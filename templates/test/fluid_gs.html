<%
    id = 'fluid_gs';
    description = 'Fluid Grid System';
    columns = 12;
    gutter_width = 3.0;
    column_width = (100.0 - gutter_width * (columns - 1)) / columns;
    container_width = 100.0;
    unit = ' %';
    first_class = '.first';
%><!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title><%= description %> Tests</title>
        <meta name="viewport" content="width=device-width,target-densitydpi=device-dpi,initial-scale=1.0">
        <link rel="stylesheet" href="<%= config.http_stylesheets_path %>/test/test.css">
        <link rel="stylesheet" href="<%= config.http_stylesheets_path %>/test/<%= id %>.css">
    </head>
    <body>
        <div class="tests">
            <h1><%= description %> Tests</h1>
            <div class="test">
                <h2>Grid Test (with <%= first_class %> class)</h2>
                <div class="grid">
                    <div class="test">
                        <h2>Column Test</h2>
                        <div class="row">
                            <div class="column-<%= columns %> first">
                                <p class="unit"><%= sprintf '%.3f', column_width * columns + gutter_width * (columns - 1) %><%= unit %></p>
                            </div>
                        </div>
                        <% (1..columns / 2).each do |n| %>
                        <div class="row">
                            <div class="column-<%= n %> first">
                                <p class="unit"><%= sprintf '%.3f', column_width * n + gutter_width * (n - 1) %><%= unit %></p>
                            </div>
                            <div class="column-<%= columns - n %>">
                                <p class="unit"><%= sprintf '%.3f', column_width * (columns - n) + gutter_width * ((columns - n) - 1) %><%= unit %></p>
                            </div>
                        </div>
                        <% end %>
                    </div>

                    <div class="test">
                        <h2>Prepend / Append Test</h2>
                        <% (0...columns).each do |n| %>
                        <% prepend = " prepend-#{n}" if n > 0; %>
                        <% append = " append-#{columns - n}" if (columns - n) > 0; %>
                        <div class="row">
                            <div class="column-1<%= prepend %><%= append %> first">
                                <p class="unit"><%= sprintf '%.3f', column_width %><%= unit %></p>
                            </div>
                        </div>
                        <% end %>
                    </div>
                </div>
            </div>

            <div class="test">
                <h2>Grid Test (with first-child pseudo-class, without <%= first_class %> class)</h2>
                <div class="grid">
                    <div class="test">
                        <h2>Column Test</h2>
                        <div class="row">
                            <div class="column-<%= columns %>">
                                <p class="unit"><%= sprintf '%.3f', column_width * columns + gutter_width * (columns - 1) %><%= unit %></p>
                            </div>
                        </div>
                        <% (1..columns / 2).each do |n| %>
                        <div class="row">
                            <div class="column-<%= n %>">
                                <p class="unit"><%= sprintf '%.3f', column_width * n + gutter_width * (n - 1) %><%= unit %></p>
                            </div>
                            <div class="column-<%= columns - n %>">
                                <p class="unit"><%= sprintf '%.3f', column_width * (columns - n) + gutter_width * ((columns - n) - 1) %><%= unit %></p>
                            </div>
                        </div>
                        <% end %>
                    </div>

                    <div class="test">
                        <h2>Prepend / Append Test</h2>
                        <% (0...columns).each do |n| %>
                        <% prepend = " prepend-#{n}" if n > 0; %>
                        <% append = " append-#{columns - n}" if (columns - n) > 0; %>
                        <div class="row">
                            <div class="column-1<%= prepend %><%= append %>">
                                <p class="unit"><%= sprintf '%.3f', column_width %><%= unit %></p>
                            </div>
                        </div>
                        <% end %>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
